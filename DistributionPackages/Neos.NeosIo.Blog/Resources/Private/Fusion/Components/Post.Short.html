{namespace neos=Neos\Neos\ViewHelpers}
{namespace media=Neos\Media\ViewHelpers}
<neos:link.node node="{node}" class="u-linkReset">
    <div class="u-microCopy">{datePublished -> f:format.date(localeFormatType: 'date', forceLocale: true)}</div>
    <h3 class="u-mt0 u-mb1/2 u-brandColor-primary">{title -> f:format.stripTags()}</h3>

    <div class="media">
        <f:if condition="{image}">
            <f:if condition="{neos:rendering.inBackend()}">
                <f:then>
                    <img
                        alt="{title -> f:format.stripTags()}"
                        class="media__img media__img--scaled u-mb1/1"
                        width="{image.width}"
                        height="{image.height}"
                        loading="lazy"
                        src=" {media:uri.image(image: image, width: 700, height: 175, allowCropping: true)}"
                        srcset="
                            {media:uri.image(image: image, width: 1000, height: 250, allowCropping: true)} 1920w,
                            {media:uri.image(image: image, width: 700, height: 175, allowCropping: true)} 1280w,
                            {media:uri.image(image: image, width: 400, height: 100, allowCropping: true)} 658w,
                            {media:uri.image(image: image, width: 200, height: 50, allowCropping: true)}"
                    />
                </f:then>
                <f:else>
                    <img
                        alt="{title -> f:format.stripTags()}"
                        class="media__img media__img--scaled u-mb1/1"
                        width="{image.width}"
                        height="{image.height}"
                        loading="lazy"
                        src="{media:uri.image(image: image, width: 700, height: 175, allowCropping: true)}"
                        data-image-srcset="
                            {media:uri.image(image: image, width: 1000, height: 250, allowCropping: true)} 1920w,
                            {media:uri.image(image: image, width: 700, height: 175, allowCropping: true)} 1280w,
                            {media:uri.image(image: image, width: 400, height: 100, allowCropping: true)} 658w,
                            {media:uri.image(image: image, width: 200, height: 50, allowCropping: true)}"
                    />
                </f:else>
            </f:if>

        </f:if>
        <div class="media__content">
            <p>
                {summary -> f:format.raw()}
            </p>
        </div>
    </div>
</neos:link.node>
